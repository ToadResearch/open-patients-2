run:
  dataset: ncbi/Open-Patients
  split: train
  out_dir: ./open_patients_enriched_qwen3_235b_a22b
  resume: true
  max_notes: 0
  shard_size: 50000
  schema: configs/schemas/schema.json
  usmle_mapping: configs/usmle_mapping.json

model:
  name: Qwen/Qwen3-235B-A22B
  prompt_mode: chat

vllm:
  tensor_parallel_size: 8
  pipeline_parallel_size: 1
  enable_expert_parallel: true
  dtype: auto
  max_model_len: 8192
  gpu_memory_utilization: 0.92
  enable_chunked_prefill: true
  enable_prefix_caching: true
  kv_cache_dtype: fp8
  calculate_kv_scales: true
  quantization: null
  max_num_batched_tokens: 8192
  max_num_seqs: 128
  max_parallel_loading_workers: 2

sampling:
  temperature: 0.0
  top_p: 1.0
  max_new_tokens: 700
  seed: 0
  structured_output: true

prompt:
  disable_thinking: true

parallel:
  replicas: 8
